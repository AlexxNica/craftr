
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.ico">
      
      <meta name="generator" content="mkdocs-0.16.1, mkdocs-material-1.0.5">
    
    
      
        <title>Changelog - Craftr v2.0.0.dev7 Documentation</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-9c62e3c932.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Craftr v2.0.0.dev7 Documentation" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Changelog
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
          </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-icon md-icon--home  md-nav__button">
      
    </i>
    Craftr v2.0.0.dev7 Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href=".." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../getting-started/" title="Getting Started" class="md-nav__link">
        Getting Started
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../ref/package/" title="Package Description" class="md-nav__link">
        Package Description
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../ref/targets/" title="Targets" class="md-nav__link">
        Targets
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../ref/tasks/" title="Tasks" class="md-nav__link">
        Tasks
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../ref/loaders/" title="Loaders" class="md-nav__link">
        Loaders
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../ref/builtins/" title="Built-ins" class="md-nav__link">
        Built-ins
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../ref/config/" title="Build Configuration" class="md-nav__link">
        Build Configuration
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Developer Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4">
        Developer Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      core
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4-1">
        core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../api/core/build/" title="build" class="md-nav__link">
        build
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/core/config/" title="config" class="md-nav__link">
        config
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/core/logging/" title="logging" class="md-nav__link">
        logging
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/core/manifest/" title="manifest" class="md-nav__link">
        manifest
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/core/renames/" title="renames" class="md-nav__link">
        renames
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/core/session/" title="session" class="md-nav__link">
        session
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/platform/" title="platform" class="md-nav__link">
        platform
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      utils
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4-3">
        utils
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/argspec/" title="argspec" class="md-nav__link">
        argspec
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/cson/" title="cson" class="md-nav__link">
        cson
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/httputils/" title="httputils" class="md-nav__link">
        httputils
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/path/" title="path" class="md-nav__link">
        path
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/pyutils/" title="pyutils" class="md-nav__link">
        pyutils
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/shell/" title="shell" class="md-nav__link">
        shell
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/singleton/" title="singleton" class="md-nav__link">
        singleton
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/utils/tty/" title="tty" class="md-nav__link">
        tty
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/defaults/" title="defaults" class="md-nav__link">
        defaults
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/foreignbuild/" title="foreignbuild" class="md-nav__link">
        foreignbuild
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/loaders/" title="loaders" class="md-nav__link">
        loaders
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../api/targetbuilder/" title="targetbuilder" class="md-nav__link">
        targetbuilder
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="Changelog" class="md-nav__link md-nav__link--active">
      Changelog
    </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../faq/" title="FAQ" class="md-nav__link">
        FAQ
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="../projects/" title="Projects using Craftr" class="md-nav__link">
        Projects using Craftr
      </a>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
              
                
                <h1 id="development">development</h1>
<p>Bugfixes</p>
<ul>
<li>An empty value for an option of type <code>path</code> will no longer end up have the
  value of the project directory but instead be an empty string</li>
<li>Fix <code>msvc_runtime_library</code> parameter in compile procedure of the
  <code>craftr.lang.cxx.msvc</code> module (invert behaviour of <code>'static'</code> and <code>'dynamic'</code>)</li>
<li>Fix issue with curl and curlpp modules where the object files are not built
  in the build directory but instead in the source directory, or raise an
  exception on Windows if the module directory and the build directory are on
  different drives</li>
</ul>
<p>Behaviour Changes</p>
<ul>
<li>Explicit targets now also export a phony target rule in Ninja.</li>
</ul>
<p>API Changes</p>
<ul>
<li>change <code>load()</code> now accepts a <code>mode</code> parameter instead of <code>get_namespace</code>,
  can be one of <code>'exports'</code> (defualt), <code>'namespace'</code> and <code>'mmodule'</code></li>
<li>add <code>gentask(explicit)</code> parameter</li>
<li>add <code>env</code> parameter to <code>shell.run()</code> and <code>shell.pipe()</code></li>
<li>add <code>craftr.foreignbuild</code> module</li>
</ul>
<p>Standard Library</p>
<ul>
<li>add <code>craftr.utils.archive</code> module</li>
<li><code>craftr.lang.cxx.msvc</code> can now compile ASM code to some extend</li>
<li>add <code>compile_asm()</code> to <code>craftr.lang.cxx</code></li>
</ul>
<p>Command-line Changes</p>
<ul>
<li>add <code>--pm</code> option to enable the post-mortem debugger when an exception
  occurs and is uncaught by the Craftr runtime</li>
</ul>
<h1 id="v200dev7">v2.0.0.dev7</h1>
<p>Bugfixes</p>
<ul>
<li>Fix function <code>cxx_extend_framework()</code> that is kept for backwards compatibility,
  which was missing to call the new <code>cxx.extend_framework()</code>.</li>
<li>Fix <code>NameError</code> in <code>'craftr build'</code> command</li>
<li>fix <code>errno.ENOTTY</code> raised on Linux CI runners (eg. GitLab)</li>
</ul>
<p>Changes</p>
<ul>
<li>If terminal size can not be determined, assume 120 characters wide
  instead of 80</li>
</ul>
<h1 id="v200dev6">v2.0.0.dev6</h1>
<p>General Changes</p>
<ul>
<li>Default manifest configuration format is now CSON (<code>manifest.cson</code>),
  JSON being kept for backwards compatibility (see #168)</li>
<li>Fix crash on Travis CI with <code>tty.terminal_size()</code> (see #169)</li>
<li>Add <code>craftr lock</code> command which generates <code>.dependency-lock</code> file in the
  same directory as the project's Manifest (see #155)</li>
</ul>
<p>API Changes</p>
<ul>
<li>add <code>pkg_config(static = False)</code> parameter</li>
<li>add <code>pkg_config()</code>, <code>external_file()</code> and <code>external_archive()</code> to <code>craftr/defaults.py</code></li>
<li>add <code>glob(ignore_false_excludes=False)</code> parameter</li>
<li>add <code>BaseLogger.flush()</code> method</li>
<li>add <code>craftr.utils.path.getmtime()</code> and <code>.getimtime()</code></li>
<li>add <code>write_response_file(suffix='')</code> parameter</li>
<li>add <code>Default</code> singleton to built-in namespace</li>
<li>add <code>gentask()</code> and <code>task()</code> built-in functions (see #163)</li>
<li>add <code>Target.runprefix</code> parameter and attribute</li>
<li>add <code>Session.main_module</code> member</li>
<li>add <code>Module.dependencies</code> member</li>
<li>change <code>Target</code> objects can now be passed to the <code>frameworks = [...]</code> argument
  of target generators that use the <code>TargetBuilder</code> class. These input targets
  will automatically added to the implicit dependencies and their frameworks
  be added</li>
<li>change <code>Tool</code> objects can now be passed into the <code>commands = [[...]]</code> argument
  of targets generators</li>
<li>change <code>runtarget()</code> to take <code>Target.runprefix</code> into account</li>
<li>change <code>path.norm()</code> now makes sure that path is lowercased on Windows</li>
<li>change <code>load_file()</code> now adds the loaded file to <code>Module.dependent_files</code></li>
<li>change <code>glob(patterns)</code> now accepts a string additionally to a list of strings</li>
<li>rename <code>load_module()</code> to <code>load()</code>, using the old name displays a warning</li>
</ul>
<p>Library Changes</p>
<ul>
<li>add <code>craftr.lib.sdl2</code> (tested on Windows only)</li>
<li>add <code>craftr.lib.zlib</code> (tested on Windows only)</li>
<li>add <code>uic()</code> and <code>moc()</code> target generators to <code>craftr.lib.qt5</code> (tested on Windows only)</li>
<li>add support for <code>source_directory</code> argument in <code>cxx.c_compile()</code> and <code>cxx.cpp_compile()</code>
  (actually implemented in <code>craftr.lang.cxx.common</code> and <code>craftr.lang.cxx.msvc</code>), see #154</li>
<li>add <code>craftr.lang.csharp:compile()</code> to be used for unstarred import, and add docstrings</li>
<li>add <code>exflags</code> option to <code>craftr.lang.cxx.common</code> module (see #152)</li>
<li>add <code>ccprefix</code> option to <code>craftr.lang.cxx.common</code> module (related to #149)</li>
<li>add to <code>craftr.lang.cxx</code> functions <code>static_library()</code> and <code>shared_library()</code></li>
<li>change <code>craftr.lang.cxx</code> member names, old names are still available with a
  deprecation notice. <code>binary() -&gt; executable()</code>, <code>c_compile() -&gt; compile_c()</code>,
  <code>cpp_compile() -&gt; compile_cpp()</code></li>
<li>change <code>craftr.lib.cURLpp</code> always requires RTTI enabled</li>
<li>change <code>craftr.lang.cxx.msvc</code> now adds the static input library generated for DLLs to the outputs</li>
<li>change MSVC <code>compile()</code> now supports response-files for long list of includes</li>
<li>update default download version of <code>craftr.lib.zlib</code> to <code>1.2.10</code></li>
</ul>
<p>Behaviour Changes</p>
<ul>
<li>Experimental change not raising an exception in <code>craftr/core/build.py</code> inside
  <code>replace_argument_inout_vars()</code> when multiple outputs are specified to support
  the previously mentioned change</li>
<li>Update verbose logging behaviour when the same module was detected twice</li>
<li>Build-directory is now removed again if nothing was exported (eg. when
  using <code>craftr build</code> without formerly exporting the build files)</li>
<li>Output before Ninja is executed is now flushed to make sure all data is
  flushed to the terminal before Ninja outputs to the pipe</li>
<li>When using <code>craftr build</code>, Craftr now checks if any of the files that generated
  the build data (ie. manifests and Craftrfiles) have changed since the build
  files was generated and notifies the user in that case (see #162)</li>
<li><code>craftr.core.logging.DefaultLogger</code> now logs the module and line number from
  which the log occurred, padded to the right side of the terminal</li>
<li>Craftr now exports a variable <code>Craftr_run_command</code> into the Ninja manifest</li>
<li>Fix invalid Ninja manifests generated with foreach Targets with no inputs (see #151)</li>
</ul>
<p>Internal API Changes</p>
<ul>
<li>add <code>craftr.core.session.Module.current_line</code> property</li>
<li>add <code>Module.scriptfile</code> property</li>
<li>add <code>Module.dependent_files</code> attribute</li>
<li>add <code>Manifest.filename</code> attribute</li>
<li>add <code>craftr.core.build.Graph.add_task()</code> and <code>.tasks</code> members</li>
<li>add <code>craftr.core.build.Task</code> class</li>
<li>add <code>tty.terminal_size(default)</code> parameter</li>
<li>change <code>Manifest.parse()</code> no longer accepts a file-like object</li>
</ul>
<p>Command-line Changes</p>
<ul>
<li>add <code>-P/--project-dir</code> parameters to <code>craftr</code></li>
<li>add <code>craftr options [-m MODULE] [-r] [-d]</code> command (see #166)</li>
<li>add <code>craftr deptree [-m MODULE]</code> command (see #166)</li>
<li>add <code>craftr help [name]</code> command (see #167)</li>
<li>fix <code>craftr run</code> command</li>
<li>add <code>[task] [task_args...]</code> arguments to <code>craftr run</code> (for internal use mostly)</li>
</ul>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../api/targetbuilder/" title="targetbuilder" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                targetbuilder
              </span>
            </div>
          </a>
        
        
          <a href="../faq/" title="FAQ" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                FAQ
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-f7ac33b6fb.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>