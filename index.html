
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="./assets/images/favicon.ico">
      
      <meta name="generator" content="mkdocs-0.16.1, mkdocs-material-1.0.5">
    
    
      
        <title>Home - Craftr v2.0.0.dev7 Documentation</title>
      
    
    
      <script src="./assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="./assets/stylesheets/application-9c62e3c932.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="Craftr v2.0.0.dev7 Documentation" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Home
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
          </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-icon md-icon--home  md-nav__button">
      
    </i>
    Craftr v2.0.0.dev7 Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-contribute" title="How to Contribute" class="md-nav__link">
    How to Contribute
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" title="Requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" title="License" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="getting-started/" title="Getting Started" class="md-nav__link">
        Getting Started
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="ref/package/" title="Package Description" class="md-nav__link">
        Package Description
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="ref/targets/" title="Targets" class="md-nav__link">
        Targets
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="ref/tasks/" title="Tasks" class="md-nav__link">
        Tasks
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="ref/loaders/" title="Loaders" class="md-nav__link">
        Loaders
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="ref/builtins/" title="Built-ins" class="md-nav__link">
        Built-ins
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="ref/config/" title="Build Configuration" class="md-nav__link">
        Build Configuration
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Developer Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4">
        Developer Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      core
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4-1">
        core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="api/core/build/" title="build" class="md-nav__link">
        build
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/core/config/" title="config" class="md-nav__link">
        config
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/core/logging/" title="logging" class="md-nav__link">
        logging
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/core/manifest/" title="manifest" class="md-nav__link">
        manifest
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/core/renames/" title="renames" class="md-nav__link">
        renames
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/core/session/" title="session" class="md-nav__link">
        session
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/platform/" title="platform" class="md-nav__link">
        platform
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      utils
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4-3">
        utils
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/argspec/" title="argspec" class="md-nav__link">
        argspec
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/cson/" title="cson" class="md-nav__link">
        cson
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/httputils/" title="httputils" class="md-nav__link">
        httputils
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/path/" title="path" class="md-nav__link">
        path
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/pyutils/" title="pyutils" class="md-nav__link">
        pyutils
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/shell/" title="shell" class="md-nav__link">
        shell
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/singleton/" title="singleton" class="md-nav__link">
        singleton
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/utils/tty/" title="tty" class="md-nav__link">
        tty
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/defaults/" title="defaults" class="md-nav__link">
        defaults
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/foreignbuild/" title="foreignbuild" class="md-nav__link">
        foreignbuild
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/loaders/" title="loaders" class="md-nav__link">
        loaders
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="api/targetbuilder/" title="targetbuilder" class="md-nav__link">
        targetbuilder
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="changes/" title="Changelog" class="md-nav__link">
        Changelog
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="faq/" title="FAQ" class="md-nav__link">
        FAQ
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
      <a href="projects/" title="Projects using Craftr" class="md-nav__link">
        Projects using Craftr
      </a>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-contribute" title="How to Contribute" class="md-nav__link">
    How to Contribute
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" title="Requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" title="License" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
              
                
                <h1 id="the-craftr-build-system">The Craftr build system</h1>
<p><a href="https://pypi.python.org/pypi/craftr-build"><img alt="PyPI Version" src="https://img.shields.io/pypi/v/craftr-build.svg" /></a>
<a href="https://bestpractices.coreinfrastructure.org/projects/530"><img alt="CII Best Practices" src="https://bestpractices.coreinfrastructure.org/projects/530/badge" /></a></p>
<p>Craftr is a meta build system based on <a href="https://www.python.org/">Python 3</a> scripts which produces
<a href="https://github.com/ninja-build/ninja">Ninja</a> build manifests. It enforces the use of modular build definitions
that can be re-used easily and ships with a standard library supporting
various programming languages and common libraries.</p>
<ul>
<li><a href="https://craftr-build.github.io/craftr/">Documentation</a></li>
<li><a href="https://craftr-build.github.io/craftr/getting-started">Getting Started</a></li>
<li><a href="https://github.com/craftr-build/craftr/wiki">Craftr 2.x Wiki</a></li>
</ul>
<p><strong>Features</strong></p>
<ul>
<li>[x] Aims to be cross-platform compatible (regularly tested on Windows, Mac OS and Linux)</li>
<li>[x] Build definitions divided into versioned modules</li>
<li>[x] Embedd actual Python functions into the build process (keyword Tasks)</li>
<li>[x] Dependency-lock files for fully reproducible builds</li>
<li>[ ] Package manager (hosted on <a href="https://craftr.net">Craftr.net</a>)</li>
</ul>
<p><strong>Basic Usage</strong></p>
<pre class="codehilite"><code>$ craftr version                            # Print Craftr version and exit
$ craftr export                             # Generate Ninja manifest
$ craftr build [target [target [...]]]      # Build all or the specified target(s)
$ craftr clean [-r] [target [target [...]]] # Clean all or the specified target(s)
$ craftr startpackage &lt;name&gt; [directory]    # Start a new Craftr project (manifest, Craftrfile)
$ craftr lock                               # Generate a .dependency-lock file (after craftr export)</code></pre>


<p><strong>C++ Example</strong></p>
<pre class="codehilite"><code class="language-python">cxx = load('craftr.lang.cxx')
program = cxx.executable(
  inputs = cxx.compile_cpp(sources = glob('src/**/*.cpp')),
  output = 'main'
)</code></pre>


<p><strong>Java Example</strong></p>
<pre class="codehilite"><code class="language-python">java = load('craftr.lang.java')
jar = java.jar(
  inputs = java.compile(src_dir = local('src')),
  output = 'myapp',
  entry_point = 'Main'
)</code></pre>


<p><strong>C# Example</strong></p>
<pre class="codehilite"><code class="language-python">cs = load('craftr.lang.csharp')
app = cs.compile(
  sources = glob('src/**/*.cs'),
  output = 'Main',
  target = 'exe'
)</code></pre>


<p><strong>Cython Exmple</strong></p>
<pre class="codehilite"><code class="language-python">cython = load('craftr.lang.cython')
primes = cython.project(
  sources = [local('Primes.pyx')],
  main = local('Main.pyx')
)
run = runtarget(primes.main)</code></pre>


<h2 id="how-to-contribute">How to Contribute</h2>
<p>Please <a href="https://github.com/craftr-build/craftr/issues/new">create an Issue</a> if
you have any questions, problems or feature requests.</p>
<h2 id="installation">Installation</h2>
<p>Make sure you specify the specific version you want to install since there is
no untagged version of Craftr 2.x available on PyPI yet and otherwise Pip will
install Craftr 1.x (which is quite different). To get the newest stable version
of Craftr 2, use</p>
<pre class="codehilite"><code>$ pip install craftr-build==2.0.0.dev7</code></pre>


<p>To get the cutting edge development version, I suggest installing Craftr
from the Git repository into a virtualenv.</p>
<pre class="codehilite"><code>$ virtualenv -p python3 env &amp;&amp; source env/bin/activate
$ git clone https://github.com/craftr-build/craftr.git -b development
$ cd craftr
$ pip install -e .</code></pre>


<h2 id="requirements">Requirements</h2>
<ul>
<li><a href="https://github.com/ninja-build/ninja">Ninja</a> 1.7.1 or newer</li>
<li><a href="https://www.python.org/">CPython</a> 3.4 or 3.5</li>
</ul>
<p><strong>Python Dependencies (automatically installed)</strong></p>
<ul>
<li><a href="https://pypi.python.org/pypi/colorama">colorama</a> (optional, Windows)</li>
<li><a href="https://pypi.python.org/pypi/glob2">glob2</a></li>
<li><a href="https://pypi.python.org/pypi/jsonschema">jsonschema</a></li>
<li><a href="https://pypi.python.org/pypi/ninja_syntax">ninja_syntax</a></li>
<li><a href="https://pypi.python.org/pypi/nr">nr</a></li>
<li><a href="https://pypi.python.org/pypi/py-require">py-require</a></li>
<li><a href="https://pypi.python.org/pypi/termcolor">termcolor</a> (optional)</li>
<li><a href="https://pypi.python.org/pypi/werkzeug">werkzeug</a></li>
</ul>
<h2 id="license">License</h2>
<pre class="codehilite"><code>The Craftr build system
Copyright (C) 2016  Niklas Rosenstein

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</code></pre>


<p>For more information, see the <code>LICENSE.txt</code> file.</p>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="getting-started/" title="Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Getting Started
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="./assets/javascripts/application-f7ac33b6fb.js"></script>
      <script>app.initialize({url:{base:"."}})</script>
      
    
    
      
    
  </body>
</html>